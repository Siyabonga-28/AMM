<!-- ============================================
     FILE: admin/index.html (Admin Panel)
     LOCATION: /admin/index.html
     ============================================ -->
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>AMM Admin Panel</title>
    <link href="https://fonts.googleapis.com/css2?family=Oswald:wght@400;500;600;700&family=Roboto:wght@400;500;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <style>
        * { margin: 0; padding: 0; box-sizing: border-box; }
        :root {
            --primary-orange: #FF6B00;
            --dark-orange: #E65100;
            --light-orange: #FFF3E0;
            --black: #1a1a1a;
            --dark-gray: #2d2d2d;
            --medium-gray: #666;
            --light-gray: #f5f5f5;
            --white: #ffffff;
            --success: #4CAF50;
            --danger: #f44336;
            --warning: #FFC107;
            --info: #2196F3;
            --shadow: 0 10px 40px rgba(0,0,0,0.15);
        }
        body { font-family: 'Roboto', sans-serif; background: var(--light-gray); color: var(--black); line-height: 1.6; }
        h1, h2, h3, h4, h5, h6 { font-family: 'Oswald', sans-serif; text-transform: uppercase; }
        
        /* Admin Login */
        .admin-login { min-height: 100vh; display: flex; align-items: center; justify-content: center; background: linear-gradient(135deg, var(--primary-orange), var(--black)); }
        .login-box { background: var(--white); padding: 50px; border-radius: 20px; width: 100%; max-width: 450px; border: 5px solid var(--black); box-shadow: 15px 15px 0 rgba(0,0,0,0.3); }
        .login-logo { text-align: center; margin-bottom: 30px; }
        .login-logo img { width: 120px; height: 120px; border-radius: 15px; border: 3px solid var(--primary-orange); }
        .login-box h2 { text-align: center; margin-bottom: 30px; }
        .login-box input { width: 100%; padding: 15px; margin-bottom: 20px; border: 2px solid #ddd; border-radius: 10px; font-size: 16px; }
        .login-box input:focus { outline: none; border-color: var(--primary-orange); }
        .login-box button { width: 100%; background: var(--primary-orange); color: var(--black); padding: 15px; border: 3px solid var(--black); border-radius: 10px; font-weight: 700; font-size: 18px; cursor: pointer; transition: all 0.3s; box-shadow: 5px 5px 0 var(--black); }
        .login-box button:hover { transform: translate(-3px, -3px); box-shadow: 8px 8px 0 var(--black); }
        
        /* Admin Dashboard */
        .admin-dashboard { display: none; }
        .admin-header { background: var(--black); color: var(--white); padding: 20px; display: flex; justify-content: space-between; align-items: center; }
        .admin-logo { display: flex; align-items: center; gap: 15px; }
        .admin-logo img { width: 50px; height: 50px; border-radius: 10px; }
        .admin-logout { background: var(--primary-orange); color: var(--black); border: 2px solid var(--black); padding: 10px 25px; border-radius: 8px; font-weight: 700; cursor: pointer; }
        
        .admin-container { display: flex; min-height: calc(100vh - 90px); }
        .admin-sidebar { width: 300px; background: var(--white); padding: 30px; border-right: 3px solid var(--black); }
        .admin-menu-item { padding: 15px; margin-bottom: 10px; background: var(--light-gray); border-radius: 10px; cursor: pointer; font-weight: 700; display: flex; align-items: center; gap: 10px; transition: all 0.3s; }
        .admin-menu-item:hover, .admin-menu-item.active { background: var(--primary-orange); color: var(--black); }
        
        .admin-content { flex: 1; padding: 40px; background: var(--light-gray); }
        .admin-section { display: none; }
        .admin-section.active { display: block; }
        
        .admin-stats { display: grid; grid-template-columns: repeat(4, 1fr); gap: 30px; margin-bottom: 40px; }
        .stat-card { background: var(--white); padding: 25px; border-radius: 15px; border: 3px solid var(--black); text-align: center; box-shadow: 5px 5px 0 var(--primary-orange); }
        .stat-number { font-size: 48px; font-weight: 700; color: var(--primary-orange); font-family: 'Oswald', sans-serif; }
        .stat-label { font-size: 14px; text-transform: uppercase; font-weight: 700; }
        
        .admin-table { background: var(--white); border-radius: 15px; padding: 30px; border: 3px solid var(--black); overflow-x: auto; }
        .admin-table table { width: 100%; border-collapse: collapse; }
        .admin-table th { text-align: left; padding: 15px; background: var(--light-orange); border-bottom: 3px solid var(--black); }
        .admin-table td { padding: 15px; border-bottom: 1px solid #eee; }
        .admin-table tr:hover { background: var(--light-gray); }
        .badge { padding: 5px 10px; border-radius: 15px; font-size: 12px; font-weight: 600; }
        .badge-new { background: var(--success); color: var(--white); }
        .badge-pending { background: var(--warning); color: var(--black); }
        
        .action-btn { background: none; border: none; color: var(--primary-orange); font-size: 18px; cursor: pointer; margin: 0 5px; }
        .action-btn:hover { color: var(--black); }
        
        .admin-form { background: var(--white); padding: 40px; border-radius: 15px; border: 3px solid var(--black); max-width: 800px; }
        .form-group { margin-bottom: 25px; }
        .form-group label { display: block; margin-bottom: 10px; font-weight: 700; }
        .form-group input, .form-group textarea, .form-group select { width: 100%; padding: 15px; border: 2px solid #ddd; border-radius: 10px; }
        .form-row { display: grid; grid-template-columns: 1fr 1fr; gap: 20px; }
        .btn-primary { background: var(--primary-orange); color: var(--black); padding: 15px 30px; border: 3px solid var(--black); border-radius: 10px; font-weight: 700; cursor: pointer; box-shadow: 5px 5px 0 var(--black); }
        
        @media (max-width: 1024px) {
            .admin-stats { grid-template-columns: repeat(2, 1fr); }
            .admin-container { flex-direction: column; }
            .admin-sidebar { width: 100%; }
        }
    </style>
</head>
<body>
    <!-- Login Form -->
    <div class="admin-login" id="adminLogin">
        <div class="login-box">
            <div class="login-logo">
                <img src="https://i.imgur.com/placeholder.png" alt="AMM Logo">
                <h2>ADMIN LOGIN</h2>
            </div>
            <input type="text" id="username" placeholder="Username" value="admin">
            <input type="password" id="password" placeholder="Password" value="admin123">
            <button onclick="adminLogin()">LOGIN</button>
            <p style="text-align: center; margin-top: 20px; color: #666;">Demo: admin / admin123</p>
        </div>
    </div>

    <!-- Admin Dashboard -->
    <div class="admin-dashboard" id="adminDashboard">
        <div class="admin-header">
            <div class="admin-logo">
                <img src="https://i.imgur.com/placeholder.png" alt="AMM">
                <h2>ADMIN PANEL</h2>
            </div>
            <button class="admin-logout" onclick="adminLogout()">LOGOUT</button>
        </div>

        <div class="admin-container">
            <div class="admin-sidebar">
                <div class="admin-menu-item active" onclick="switchAdminTab('dashboard')"><i class="fas fa-home"></i> Dashboard</div>
                <div class="admin-menu-item" onclick="switchAdminTab('leads')"><i class="fas fa-envelope"></i> Leads</div>
                <div class="admin-menu-item" onclick="switchAdminTab('bookings')"><i class="fas fa-calendar"></i> Bookings</div>
                <div class="admin-menu-item" onclick="switchAdminTab('services')"><i class="fas fa-tools"></i> Services</div>
                <div class="admin-menu-item" onclick="switchAdminTab('pricing')"><i class="fas fa-tags"></i> Pricing</div>
                <div class="admin-menu-item" onclick="switchAdminTab('projects')"><i class="fas fa-images"></i> Projects</div>
                <div class="admin-menu-item" onclick="switchAdminTab('testimonials')"><i class="fas fa-star"></i> Testimonials</div>
                <div class="admin-menu-item" onclick="switchAdminTab('settings')"><i class="fas fa-cog"></i> Settings</div>
            </div>

            <div class="admin-content">
                <!-- Dashboard Section -->
                <div class="admin-section active" id="section-dashboard">
                    <h2 style="margin-bottom: 30px;">Dashboard Overview</h2>
                    <div class="admin-stats" id="dashboardStats">
                        <div class="stat-card"><div class="stat-number" id="statLeads">0</div><div class="stat-label">New Leads</div></div>
                        <div class="stat-card"><div class="stat-number" id="statBookings">0</div><div class="stat-label">Bookings</div></div>
                        <div class="stat-card"><div class="stat-number" id="statServices">0</div><div class="stat-label">Services</div></div>
                        <div class="stat-card"><div class="stat-number" id="statRating">0</div><div class="stat-label">Rating</div></div>
                    </div>
                    
                    <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 30px; margin-top: 30px;">
                        <div class="admin-table">
                            <h3 style="margin-bottom: 20px;">Recent Leads</h3>
                            <table id="recentLeadsTable">
                                <thead><tr><th>Name</th><th>Service</th><th>Date</th></tr></thead>
                                <tbody></tbody>
                            </table>
                        </div>
                        <div class="admin-table">
                            <h3 style="margin-bottom: 20px;">Recent Bookings</h3>
                            <table id="recentBookingsTable">
                                <thead><tr><th>Date</th><th>Time</th><th>Service</th></tr></thead>
                                <tbody></tbody>
                            </table>
                        </div>
                    </div>
                </div>

                <!-- Leads Section -->
                <div class="admin-section" id="section-leads">
                    <h2 style="margin-bottom: 30px;">Lead Management</h2>
                    <div class="admin-table">
                        <table id="leadsTable">
                            <thead>
                                <tr>
                                    <th>ID</th>
                                    <th>Name</th>
                                    <th>Contact</th>
                                    <th>Service</th>
                                    <th>Area</th>
                                    <th>Date</th>
                                    <th>Status</th>
                                    <th>Actions</th>
                                </tr>
                            </thead>
                            <tbody></tbody>
                        </table>
                    </div>
                </div>

                <!-- Bookings Section -->
                <div class="admin-section" id="section-bookings">
                    <h2 style="margin-bottom: 30px;">Booking Management</h2>
                    <div class="admin-table">
                        <table id="bookingsTable">
                            <thead>
                                <tr>
                                    <th>ID</th>
                                    <th>Date</th>
                                    <th>Time</th>
                                    <th>Service</th>
                                    <th>Status</th>
                                    <th>Actions</th>
                                </tr>
                            </thead>
                            <tbody></tbody>
                        </table>
                    </div>
                </div>

                <!-- Services Section -->
                <div class="admin-section" id="section-services">
                    <h2 style="margin-bottom: 30px;">Services Management</h2>
                    <button class="btn-primary" onclick="showAddServiceForm()" style="margin-bottom: 20px;"><i class="fas fa-plus"></i> Add New Service</button>
                    <div class="admin-table">
                        <table id="servicesTable">
                            <thead>
                                <tr>
                                    <th>ID</th>
                                    <th>Name</th>
                                    <th>Icon</th>
                                    <th>Description</th>
                                    <th>Price</th>
                                    <th>Category</th>
                                    <th>Actions</th>
                                </tr>
                            </thead>
                            <tbody></tbody>
                        </table>
                    </div>
                </div>

                <!-- Settings Section -->
                <div class="admin-section" id="section-settings">
                    <h2 style="margin-bottom: 30px;">Company Settings</h2>
                    <div class="admin-form">
                        <div class="form-group"><label>Company Name</label><input type="text" id="companyName" value="All Maintenance Matters"></div>
                        <div class="form-row">
                            <div class="form-group"><label>Phone</label><input type="text" id="companyPhone" value="012 345 6789"></div>
                            <div class="form-group"><label>WhatsApp</label><input type="text" id="companyWhatsApp" value="072 123 4567"></div>
                        </div>
                        <div class="form-group"><label>Email</label><input type="email" id="companyEmail" value="info@allmaintenancematters.co.za"></div>
                        <div class="form-group"><label>Address</label><textarea id="companyAddress" rows="3">123 Main Street, Sandton, Johannesburg, 2196</textarea></div>
                        <div class="form-group"><label>Logo URL</label><input type="text" id="companyLogo" value="https://i.imgur.com/placeholder.png"></div>
                        <button class="btn-primary" onclick="saveSettings()"><i class="fas fa-save"></i> Save Settings</button>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <script>
        // Admin Login
        function adminLogin() {
            const username = document.getElementById('username').value;
            const password = document.getElementById('password').value;
            
            // Simple demo authentication
            if (username === 'admin' && password === 'admin123') {
                document.getElementById('adminLogin').style.display = 'none';
                document.getElementById('adminDashboard').style.display = 'block';
                loadAdminData();
            } else {
                alert('Invalid credentials');
            }
        }

        function adminLogout() {
            document.getElementById('adminLogin').style.display = 'flex';
            document.getElementById('adminDashboard').style.display = 'none';
        }

        // Switch tabs
        function switchAdminTab(tab) {
            document.querySelectorAll('.admin-section').forEach(s => s.classList.remove('active'));
            document.querySelectorAll('.admin-menu-item').forEach(i => i.classList.remove('active'));
            
            document.getElementById(`section-${tab}`).classList.add('active');
            event.target.closest('.admin-menu-item').classList.add('active');
            
            if (tab === 'leads') loadLeads();
            if (tab === 'bookings') loadBookings();
            if (tab === 'services') loadServices();
        }

        // Load admin data
        function loadAdminData() {
            const db = JSON.parse(localStorage.getItem('amm_db')) || { leads: [], bookings: [], services: [], stats: {} };
            
            // Update stats
            document.getElementById('statLeads').textContent = db.leads?.length || 0;
            document.getElementById('statBookings').textContent = db.bookings?.length || 0;
            document.getElementById('statServices').textContent = db.services?.length || 0;
            document.getElementById('statRating').textContent = db.stats?.rating || '4.9';
            
            // Recent leads
            const recentLeads = (db.leads || []).slice(0, 5);
            document.querySelector('#recentLeadsTable tbody').innerHTML = recentLeads.map(l => 
                `<tr><td>${l.firstName} ${l.lastName}</td><td>${l.service}</td><td>${new Date(l.date).toLocaleDateString()}</td></tr>`
            ).join('');
            
            // Recent bookings
            const recentBookings = (db.bookings || []).slice(0, 5);
            document.querySelector('#recentBookingsTable tbody').innerHTML = recentBookings.map(b => 
                `<tr><td>${new Date(b.date).toLocaleDateString()}</td><td>${b.time}</td><td>${b.service}</td></tr>`
            ).join('');
        }

        function loadLeads() {
            const db = JSON.parse(localStorage.getItem('amm_db')) || { leads: [] };
            const tbody = document.querySelector('#leadsTable tbody');
            
            tbody.innerHTML = (db.leads || []).map(l => `
                <tr>
                    <td>${l.id}</td>
                    <td>${l.firstName} ${l.lastName}</td>
                    <td>${l.phone}<br>${l.email}</td>
                    <td>${l.service}</td>
                    <td>${l.area}</td>
                    <td>${new Date(l.date).toLocaleDateString()}</td>
                    <td><span class="badge badge-new">${l.status || 'New'}</span></td>
                    <td>
                        <button class="action-btn" onclick="viewLead(${l.id})"><i class="fas fa-eye"></i></button>
                        <button class="action-btn" onclick="deleteLead(${l.id})"><i class="fas fa-trash"></i></button>
                    </td>
                </tr>
            `).join('');
        }

        function loadBookings() {
            const db = JSON.parse(localStorage.getItem('amm_db')) || { bookings: [] };
            const tbody = document.querySelector('#bookingsTable tbody');
            
            tbody.innerHTML = (db.bookings || []).map(b => `
                <tr>
                    <td>${b.id}</td>
                    <td>${new Date(b.date).toLocaleDateString()}</td>
                    <td>${b.time}</td>
                    <td>${b.service}</td>
                    <td><span class="badge badge-pending">${b.status || 'Pending'}</span></td>
                    <td>
                        <button class="action-btn" onclick="updateBookingStatus(${b.id})"><i class="fas fa-check"></i></button>
                        <button class="action-btn" onclick="deleteBooking(${b.id})"><i class="fas fa-trash"></i></button>
                    </td>
                </tr>
            `).join('');
        }

        function loadServices() {
            const db = JSON.parse(localStorage.getItem('amm_db')) || { services: [] };
            const tbody = document.querySelector('#servicesTable tbody');
            
            tbody.innerHTML = (db.services || []).map(s => `
                <tr>
                    <td>${s.id}</td>
                    <td>${s.name}</td>
                    <td><i class="fas ${s.icon}"></i></td>
                    <td>${s.description}</td>
                    <td>${s.price}</td>
                    <td>${s.category}</td>
                    <td>
                        <button class="action-btn" onclick="editService(${s.id})"><i class="fas fa-edit"></i></button>
                        <button class="action-btn" onclick="deleteService(${s.id})"><i class="fas fa-trash"></i></button>
                    </td>
                </tr>
            `).join('');
        }

        function showAddServiceForm() {
            alert('Add service form would open here');
        }

        function saveSettings() {
            const settings = {
                companyName: document.getElementById('companyName').value,
                phone: document.getElementById('companyPhone').value,
                whatsapp: document.getElementById('companyWhatsApp').value,
                email: document.getElementById('companyEmail').value,
                address: document.getElementById('companyAddress').value,
                logo: document.getElementById('companyLogo').value
            };
            
            const db = JSON.parse(localStorage.getItem('amm_db')) || {};
            db.settings = settings;
            localStorage.setItem('amm_db', JSON.stringify(db));
            alert('Settings saved successfully!');
        }

        // Placeholder functions
        function viewLead(id) { alert('View lead ' + id); }
        function deleteLead(id) { if(confirm('Delete lead?')) alert('Deleted ' + id); }
        function updateBookingStatus(id) { alert('Update booking ' + id); }
        function deleteBooking(id) { if(confirm('Delete booking?')) alert('Deleted ' + id); }
        function editService(id) { alert('Edit service ' + id); }
        function deleteService(id) { if(confirm('Delete service?')) alert('Deleted ' + id); }
    </script>
</body>
</html>